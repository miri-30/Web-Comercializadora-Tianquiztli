<!-- Contenedor general -->
<section class="container text-center p-1">

    <div class="row" style="margin-bottom: -15px;">
        <div class="col-md-6 mb-3">
            <button class="btn btn-lg btn-outline-secondary float-left" routerLink="/view_usuarios">Volver</button>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <section class="container text-center p-1">
                <div class="" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <h4> Registrate como Usuario</h4>
                            <p> Para tener acceso a AppSA. </p>
                            <hr>
                            <div class="card-body" style="padding: 0px;">
                                <form [formGroup]="registerForm">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12">

                                            <div class="form-group">
                                                <div class="text-center">
                                                  <img [src]="imgSrc" width="350px" height="350px" (click)="fileUploader.click()">
                                                </div>
                                                <p *ngIf="cli_img.touched && cli_img.invalid" class="error">
                                                    <sup>*</sup>Por favor ingrese una imagen
                                                </p>
                                              </div>
                                              
                                              <div class="form-group" hidden>
                                                <label>Select file to upload</label>
                                                <input type="file" accept="image/*" class="form-control" #fileUploader formControlName="cli_img"
                                                  (change)="showPreview($event)">
                                              </div>

                                            <div class="form-group mb-3">
                                                <label>Nombre</label>
                                                <input type="text" class="form-control" id="cli_nombre"
                                                    formControlName="cli_nombre" required />
                                                <p *ngIf="cli_nombre.touched && cli_nombre.invalid" class="error">
                                                    <sup>*</sup>Por favor ingrese el nombre
                                                </p>
                                                <p *ngIf="cli_nombre.errors?.minlength" class="error">
                                                    <sup>*</sup>
                                                    El nombre no debe tener menos de 2 palabras.
                                                </p>
                                            </div>
                                            <!--Prueba-->
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label>Apellido Paterno</label>
                                                    <input type="text" class="form-control" id="cli_app"
                                                        formControlName="cli_app" required />
                                                    <p *ngIf="cli_app.touched && cli_app.invalid" class="error">
                                                        <sup>*</sup>Por
                                                        favor proporcione el Apellido Paterno</p>
                                                </div>

                                                <div class="col-md-6 mb-3">
                                                    <label>Apellido Materno</label>
                                                    <input type="text" class="form-control" id="cli_apm"
                                                        formControlName="cli_apm" required />
                                                    <p *ngIf="cli_apm.touched && cli_apm.invalid" class="error">
                                                        <sup>*</sup>Por
                                                        favor proporcione el Apellido Materno</p>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label>Usuario</label>
                                                    <input type="text" class="form-control" id="cli_usuario"
                                                        formControlName="cli_usuario" required />
                                                    <p *ngIf="cli_usuario.touched && cli_usuario.invalid" class="error">
                                                        <sup>*</sup>Por favor proporcione un Nombre de Usuario
                                                    </p>
                                                </div>

                                                <div class="col-md-6 mb-3">
                                                    <label>Email</label>
                                                    <input type="email" class="form-control" id="email"
                                                        formControlName="email" required />
                                                    <p *ngIf="email.touched && email.invalid" class="error">
                                                        <sup>*</sup>
                                                        Por favor ingrese el correo electrónico.</p>
                                                    <p *ngIf="email.errors?.pattern" class="error">
                                                        <sup>*</sup>Por favor
                                                        ingrese el correo electrónico correcto</p>
                                                </div>

                                            </div>

                                            <div class="form-group mb-3">
                                                <label>Contraseña</label>
                                                <input type="password" class="form-control" id="password"
                                                    formControlName="password" required />
                                                <p *ngIf="password.touched && password.invalid" class="error">
                                                    <sup>*</sup>Por
                                                    favor ingrese una contraseña</p>
                                                <p *ngIf="password.errors?.minlength" class="error"><sup>*</sup>
                                                    La contraseña no debe tener menos de 8 caracteres.
                                                </p>
                                                <p *ngIf="password.errors?.maxlength" class="error"><sup>*</sup>
                                                    La contraseña no debe tener mas de 12 caracteres.
                                                </p>
                                            </div>

                                            <div class="form-group">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="cli_check"
                                                        formControlName="cli_check" required>

                                                    <label class="form-check-label" for="cli_check">
                                                        <a href="" data-toggle="modal" data-target="#exampleModalCenter"
                                                            class="alert-link">
                                                            Acepto los términos y condiciones
                                                        </a>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <button type="button" class="btn btn-lg btn-block btn-danger float-left"
                                            (click)="ResetForm()">
                                            Reset
                                        </button>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <button class="btn btn-lg btn-block btn-success float-right" [disabled]="registerForm.invalid" (click)="createUser(registerModal)">Registrarme</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12">
            <section class="container text-center p-1">
                <div class="" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="card-body" style="padding: 0px;">
                                <div>
                                    <h6>Su localizacion se tomara de forma automatica</h6>
                                    <div id="mapContainer"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

    </div>

</section>
<!-- Contenedor general -->
<!-- Modals -->
<ng-template #registerModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left"></h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalReference.hide()"><span aria-hidden="true">&times;</span></button>
    </div>
    <div class="modal-body">
        <!-- <img class="registerIcon mt-5" src="{{modalData.modalIcon}}" alt="Logo"> -->
        <h2 class="text-center text-dark mt-4">{{modalData.modalTitle}}</h2>
        <p class="text-center mt-3">{{modalData.modalDescription}}</p>        
        <button class="btn btn-block btn-lg btn-danger text-center  mt-2 mb-2" (click)="continuousFunction()">Aceptar</button>
    </div>
</ng-template>

<ng-template #locationModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left"></h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalReference.hide()"><span
                aria-hidden="true">&times;</span></button>
    </div>
    <div class="modal-body">
        <!-- <img class="registerIcon mt-5" src="{{modalData.modalIcon}}" alt="Logo"> -->
        <h2 class="text-center ProductSans text-dark mt-4">{{modalData.modalTitle}}</h2>
        <p class="text-center ProductSans mt-3">{{modalData.modalDescription}}</p>
        <button class="btn btn-block btn-lg btn-danger text-center  mt-2 mb-2"
            (click)="modalReference.hide()" routerLink="/view-usuarios">Aceptar</button>
    </div>
</ng-template>

<div class="modal fade bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog " role="document">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Terminos y condiciones</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="height: 500px; width: 100%; overflow-y: auto;">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla tristique et magna nec imperdiet. Mauris
                nec rutrum nunc. Pellentesque sit amet dui dolor. Proin vel feugiat libero. Vestibulum et neque posuere,
                varius odio quis, varius quam. Cras lacinia
                sapien a leo tincidunt tincidunt. Integer a nunc non nisl tempus faucibus. Aliquam at efficitur justo.
                Proin sapien eros, facilisis et interdum in, elementum at elit. Mauris porttitor justo sed ante ultrices
                tincidunt. Morbi placerat ornare nibh
                in consectetur. Pellentesque sollicitudin vulputate consectetur. Ut vehicula ex pretium lacus faucibus,
                non venenatis purus tincidunt. Praesent efficitur vitae ex quis aliquam. Phasellus dapibus quam sodales
                ipsum suscipit, facilisis accumsan
                leo efficitur. Etiam vestibulum maximus sollicitudin. Phasellus pulvinar diam non enim tempus efficitur
                a id tortor. Aliquam vel consectetur tortor. Praesent fringilla gravida lacus in faucibus. Vestibulum a
                velit volutpat, vehicula mauris at,
                scelerisque purus.
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla tristique et magna nec imperdiet. Mauris
                nec rutrum nunc. Pellentesque sit amet dui dolor. Proin vel feugiat libero. Vestibulum et neque posuere,
                varius odio quis, varius quam. Cras lacinia
                sapien a leo tincidunt tincidunt. Integer a nunc non nisl tempus faucibus. Aliquam at efficitur justo.
                Proin sapien eros, facilisis et interdum in, elementum at elit. Mauris porttitor justo sed ante ultrices
                tincidunt. Morbi placerat ornare nibh
                in consectetur. Pellentesque sollicitudin vulputate consectetur. Ut vehicula ex pretium lacus faucibus,
                non venenatis purus tincidunt. Praesent efficitur vitae ex quis aliquam. Phasellus dapibus quam sodales
                ipsum suscipit, facilisis accumsan
                leo efficitur. Etiam vestibulum maximus sollicitudin. Phasellus pulvinar diam non enim tempus efficitur
                a id tortor. Aliquam vel consectetur tortor. Praesent fringilla gravida lacus in faucibus. Vestibulum a
                velit volutpat, vehicula mauris at,
                scelerisque purus.
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla tristique et magna nec imperdiet. Mauris
                nec rutrum nunc. Pellentesque sit amet dui dolor. Proin vel feugiat libero. Vestibulum et neque posuere,
                varius odio quis, varius quam. Cras lacinia
                sapien a leo tincidunt tincidunt. Integer a nunc non nisl tempus faucibus. Aliquam at efficitur justo.
                Proin sapien eros, facilisis et interdum in, elementum at elit. Mauris porttitor justo sed ante ultrices
                tincidunt. Morbi placerat ornare nibh
                in consectetur. Pellentesque sollicitudin vulputate consectetur. Ut vehicula ex pretium lacus faucibus,
                non venenatis purus tincidunt. Praesent efficitur vitae ex quis aliquam. Phasellus dapibus quam sodales
                ipsum suscipit, facilisis accumsan
                leo efficitur. Etiam vestibulum maximus sollicitudin. Phasellus pulvinar diam non enim tempus efficitur
                a id tortor. Aliquam vel consectetur tortor. Praesent fringilla gravida lacus in faucibus. Vestibulum a
                velit volutpat, vehicula mauris at,
                scelerisque purus.
            </div>
        </div>
    </div>
</div>
<!-- Modals -->